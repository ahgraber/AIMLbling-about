{{- $displayThemeToggle := site.Params.theme.displayToggle | default true -}}
{{- $poweredBy := (T "poweredBy") |
  default "Powered by Hugo x Hextra"
-}}
{{- $footerWidth := "hx-max-w-screen-xl" -}}
{{- with .Site.Params.footer.width -}}
  {{ if eq . "wide" -}}
    {{ $footerWidth = "hx-max-w-[90rem]" -}}
  {{ else if eq . "full" -}}
    {{ $footerWidth =
      "max-w-full"
    -}}
  {{ end -}}

{{- end -}}


<footer
  class="hextra-footer hx-bg-gray-100 hx-pb-[env(safe-area-inset-bottom)] dark:hx-bg-neutral-900 print:hx-bg-transparent">
  <div class="hx-mx-auto hx-flex hx-gap-2 hx-py-1 hx-px-4 {{ $footerWidth }}">
    {{- with $displayThemeToggle }}{{ partial "theme-toggle.html" }}{{ end -}}
  </div>
  <div
    class="hx-mx-auto hx-flex hx-py-1 hx-justify-center hx-pl-[max(env(safe-area-inset-left),1.5rem)] hx-pr-[max(env(safe-area-inset-right),1.5rem)] hx-text-gray-600 dark:hx-text-gray-400 md:hx-justify-start {{ $footerWidth }}">
    <div class="hx-flex hx-w-full hx-flex-col hx-items-center sm:hx-items-start">
      {{- if .Site.Params.footer.displayCopyright }}
        <div style="margin: auto; text-align: center;">
          <div class="hx-font-semibold">{{ template "copyright" }}</div>
        </div>
      {{- end }}
      {{- if (.Site.Params.footer.displayPoweredBy | default true) }}
        <div style="margin: auto; text-align: center;">
          <div class="hx-font-semibold">{{ template "theme-credit" $poweredBy }}</div>
        </div>
      {{- end }}
    </div>
  </div>
  <div
    class="hx-mx-auto hx-flex hx-py-2 hx-justify-center hx-pl-[max(env(safe-area-inset-left),1.5rem)] hx-pr-[max(env(safe-area-inset-right),1.5rem)] hx-text-gray-600 dark:hx-text-gray-400 md:hx-justify-start {{ $footerWidth }}"></div>
</footer>

{{- define "copyright" -}}
  <p
    class="hx-flex hx-text-sm hx-items-center hx-gap-1 hx-text-current"
    xmlns:cc="https://creativecommons.org/ns#"
    xmlns:dct="https://purl.org/dc/terms/">
    <span property="dct:title">AI/MLbling About Â© 2024</span> by
    <span property="cc:attributionName">Alexander Graber</span>
    is licensed under
    <a
      href="https://creativecommons.org/licenses/by-nc/4.0/?ref=chooser-v1"
      target="_blank"
      rel="license noopener noreferrer"
      style="display: inline-block"
      >CC BY-NC 4.0<img
        class="hx-inline-block ltr:hx-ml-1 rtl:hx-mr-1 hx-align-[-2.5px]"
        style="height: 22px !important; margin-left: 3px; vertical-align: text-bottom"
        src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"
        alt="" /><img
        class="hx-inline-block ltr:hx-ml-1 rtl:hx-mr-1 hx-align-[-2.5px]"
        style="height: 22px !important; margin-left: 3px; vertical-align: text-bottom"
        src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"
        alt="" /><img
        class="hx-inline-block ltr:hx-ml-1 rtl:hx-mr-1 hx-align-[-2.5px]"
        style="height: 22px !important; margin-left: 3px; vertical-align: text-bottom"
        src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"
        alt="" />
    </a>
  </p>
{{- end -}}
{{- define "theme-credit" -}}
  <a
    class="hx-flex hx-text-sm hx-items-center hx-gap-1 hx-text-current"
    target="_blank"
    rel="noopener noreferrer"
    title="Hextra GitHub Homepage"
    href="https://github.com/imfing/hextra">
    <span>
      {{- . | markdownify -}}
      {{- if strings.Contains . "Hextra" -}}
        {{- partial "utils/icon.html" (dict "name" "hextra"
          "attributes" `height=1em class="hx-inline-block ltr:hx-ml-1 rtl:hx-mr-1 hx-align-[-2.5px]"`)
        -}}
      {{- end -}}
    </span>
  </a>
{{- end -}}
